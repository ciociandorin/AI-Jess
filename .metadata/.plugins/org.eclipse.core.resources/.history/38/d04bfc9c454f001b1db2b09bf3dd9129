; SEND+   M=1   => SEND+
; MORE			   1ORE
;--------
; MONEY

; Y(D+E) mod 10 
;
; E=((D+E) div 10 + N+ R) mod 10
; 
; 
; N=E+1
;
;

(assert(cifra 0)(cifra 1)(cifra 2)(cifra 3)(cifra 4)(cifra 5)
    (cifra 6)(cifra 7)(cifra 8)(cifra 9)
    (litera I)(litera L)(litera S)(litera K)
    (litera N))


(deftemplate cripto 
    (slot litera)
    (slot cifra)
    
    )

(defrule init
    (litera ?l)
    (cifra ?c)
    =>
    (assert(cripto(litera ?l)(cifra ?c)))
    
    )

(defrule solutie
    
    (cripto(litera L)(cifra ?l))
    (cripto(litera S)(cifra ?s &~ ?l))
    (cripto(litera K)(cifra ?k &~ ?l &~ ?s &:(= (mod (+ ?l ?s) 10))))
    (cripto(litera I)(cifra ?i &~ ?l &~ ?s &~ ?k))
    (cripto(litera N)(cifra ?i &~ ?l &~ ?s &~ ?k &~ ?k &:(= (mod(+ ?l ?i (/ (+ ?l ?s) 10))10))))
                        
    =>
    (printout t " "?i ?l crlf)
    (printout t " "?l ?s crlf)
    (printout t "-----------" crlf)
    (printout t ?n ?k crlf)
    (printout t crlf)
                        
    )
(run)